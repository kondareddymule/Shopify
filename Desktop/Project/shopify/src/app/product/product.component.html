<app-header></app-header>
<app-dashboard></app-dashboard>

<div *ngIf="!IsAdmin">
<div class="container">
    <div class="header">
        <p style="color: blue; font-weight: bold;">Available Products</p>
        <div>
        <input type="search"
            [(ngModel)]="searchText"
            placeholder="Search products..."
            style="border-radius: 6px; width: 400px; background-color: #f3f3f3; border: none; height: 32px;" />
            <i class="pi pi-search" style="font-size: 1rem; cursor: pointer; position: absolute; top: 18px; right: 20px;"></i>
        </div>
    </div>

<div class="product-container">
    <div *ngFor="let item of filteredItems()">
    <div class="image-container">
        <div
        [style.background-image]="'url(' + item.image + ')'"
        style="height: 200px; width: 280px; background-size: contain; opacity: 0.7; border: 2px solid #E3E3E3; border-radius: 4px; background-position: center; background-repeat: no-repeat;"
      >
      </div>
      <div class="text-container">
        <p style="font-weight: bold;">{{item.category}}</p>
        <p style="color: #141569;">{{ item.title }}</p>
        <div class="quantity-container">
            <span class="icon" (click)="decreaseQuantity(item.id)">-</span>
            <span class="quantityStyle">{{item.quantity}}</span>
            <span class="icon" (click)="increaseQuantity(item.id)">+</span>
        </div>
      </div>
    </div>
    </div>
</div>
</div>
</div>


<div *ngIf="IsAdmin">
    <div class="container">
        <div class="header">
            <p style="color: blue; font-weight: bold;">Available Products</p>
            <div>
            <input type="search"
                [(ngModel)]="searchText"
                placeholder="Search products..."
                style="border-radius: 6px; width: 400px; background-color: #f3f3f3; border: none; height: 32px;" />
                <i class="pi pi-search" style="font-size: 1rem; cursor: pointer; position: absolute; top: 18px; right: 20px;"></i>
            </div>
        </div>
    
    <div class="product-container">
        <div *ngFor="let item of filteredItems()">
        <div class="image-container">
            <div
            [style.background-image]="'url(' + item.image + ')'"
            style="height: 200px; width: 280px; background-size: contain; opacity: 0.7; border: 2px solid #E3E3E3; border-radius: 4px; background-position: center; background-repeat: no-repeat;"
          >
        </div>
          <div class="text-container">
            <p style="font-weight: bold;">{{item.category}}</p>
            <p style="color: #141569;">{{ item.title }}</p>
          </div>
        </div>
        </div>
        <div>
        <div class="image-container">
            <div style="height: 200px; width: 280px; background-size: cover; opacity: 0.5; border: 2px solid #E3E3E3; border-radius: 4px;"></div>
            <div class="add-container">
                <i class="pi pi-plus" style="font-size: 1.5rem; cursor: pointer; background-color: blue; color: white; border-radius: 4px;" (click)="showDialog()"></i>
                <p>Add Product</p>
            </div>
        </div>
        <p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }" [resizable]="false" [draggable]="false" [closeOnEscape]="false">
            <span class="p-text-secondary block mb-5">Update your information.</span>
            <div class="flex align-items-center gap-3 mb-3">
                <label for="username" class="font-semibold w-6rem">Username</label>
                <input pInputText id="username" class="flex-auto" autocomplete="off" />
            </div>
            <div class="flex align-items-center gap-3 mb-5">
                <label for="email" class="font-semibold w-6rem">Email</label>
                <input pInputText id="email" class="flex-auto" autocomplete="off" />
            </div>
            <div class="flex justify-content-end gap-2">
                <p-button label="Cancel" severity="secondary" (onClick)="visible = false" />
                <p-button label="Save" (onClick)="visible = false" />
            </div>
        </p-dialog>
    </div>
    </div>
</div>
  
  